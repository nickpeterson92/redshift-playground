# ========================================
# Development Environment Configuration
# ========================================
# Copy this to terraform.tfvars and update with your actual values
# This is optimized for development/testing with lower costs

# ========================================
# Basic Configuration
# ========================================
aws_region      = "us-west-2"
project_name    = "airline"
environment     = "dev"
master_username = "admin"
master_password = "ChangeThisPassword123!"  # REQUIRED - Set a secure password!

# ========================================
# Network Access
# ========================================
# IMPORTANT: Update this with your actual IP address
# Get your IP: curl ifconfig.me
allowed_ip = "YOUR.IP.ADDRESS.HERE/32"

# ========================================
# Network Configuration
# ========================================
# For dev, we create a new VPC to avoid conflicts
create_vpc     = true
create_subnets = true
vpc_name       = "redshift-vpc-dev"
vpc_cidr       = "10.0.0.0/16"
subnet_cidrs   = ["10.0.0.0/23", "10.0.2.0/23", "10.0.4.0/23"]

# ========================================
# Producer Configuration (Write Workload)
# ========================================
# Dev settings: Lower capacity for cost savings
producer_base_capacity = 32   # Minimum RPUs (lowest is 32)
producer_max_capacity  = 128  # Auto-scales up to this

# ========================================
# Consumer Configuration (Read Workloads)
# ========================================
# Dev settings: Minimal consumers and capacity
consumer_count         = 2    # Just 2 consumers for dev testing
consumer_base_capacity = 32   # Minimum RPUs per consumer
consumer_max_capacity  = 64   # Auto-scales up to this

# ========================================
# Snapshot Restoration (Optional)
# ========================================
# Enable this if you have a snapshot with airline_dw data
restore_from_snapshot = false
snapshot_identifier   = ""     # e.g., "airline-data-snapshot-dev"
# force_restore       = false  # Uncomment to force re-restore

# ========================================
# Cost Optimization for Dev
# ========================================
# These settings help minimize dev costs:
# - Auto-pause after 10 minutes of inactivity (set in modules)
# - Minimum RPU allocations
# - Only 2 consumers instead of 3+
# - Lower max capacity limits
#
# Estimated monthly cost (if running 8 hours/day):
# - Producer: ~$92 (32 RPU * 8hr * 30days * $0.36)
# - Consumers: ~$184 (2 * 32 RPU * 8hr * 30days * $0.36)
# - Total: ~$276/month (much less with auto-pause)
#
# With aggressive auto-pause (10 min), actual cost could be <$100/month